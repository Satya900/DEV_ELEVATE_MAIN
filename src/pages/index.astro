---
import Layout from '../layouts/Layout.astro';
import Newsletter from '../components/Newsletter.astro';
import SearchBar from '../components/SearchBar.astro';

const categories = [
  {
    title: "Data Structures & Algorithms",
    description: "Master the fundamentals of DSA with our comprehensive tutorials and practice problems.",
    path: "/dsa",
    subcategories: [
      {
        icon: "📊",
        title: "Arrays & Strings",
        description: "Learn array manipulation techniques and string algorithms",
        path: "/dsa/arrays-strings"
      },
      {
        icon: "🔗",
        title: "Linked Lists",
        description: "Understanding linear data structures and their implementations",
        path: "/dsa/linked-lists"
      },
      {
        icon: "🌳",
        title: "Trees & Graphs",
        description: "Explore hierarchical and network-based data structures",
        path: "/dsa/trees-graphs"
      }
    ]
  },
  {
    title: "Web Development",
    description: "Learn modern web development with hands-on tutorials and best practices.",
    path: "/web-dev",
    subcategories: [
      {
        icon: "🎨",
        title: "Frontend Development",
        description: "Master HTML, CSS, and JavaScript fundamentals",
        path: "/web-dev/frontend"
      },
      {
        icon: "⚙️",
        title: "Backend Development",
        description: "Build robust server-side applications",
        path: "/web-dev/backend"
      },
      {
        icon: "🔄",
        title: "Full Stack Development",
        description: "Combine frontend and backend technologies",
        path: "/web-dev/fullstack"
      }
    ]
  },
  {
    title: "System Design",
    description: "Learn to design scalable and efficient systems with real-world examples.",
    path: "/system-design",
    subcategories: [
      {
        icon: "🏗️",
        title: "Architecture Patterns",
        description: "Learn common architectural patterns and their applications",
        path: "/system-design/architecture"
      },
      {
        icon: "⚡",
        title: "Scalability",
        description: "Design systems that can handle growth",
        path: "/system-design/scalability"
      },
      {
        icon: "🔒",
        title: "Security",
        description: "Implement secure system design principles",
        path: "/system-design/security"
      }
    ]
  }
];
---

<Layout title="Welcome to Dev Elevate">
  <div class="hero bg-green-500 text-white py-20 px-4 text-center">
    <h1 class="text-5xl font-bold mb-4">Welcome to Dev Elevate</h1>
    <p class="text-xl mb-8">Your journey to programming excellence starts here</p>
    <button
      id="startLearningBtn"
      class="bg-white text-green-500 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors"
    >
      Start Learning
    </button>
  </div>

  <div id="searchSection" class="hidden">
    <SearchBar />
  </div>

  <div id="categories" class="max-w-7xl mx-auto px-4 py-16">
    {categories.map(category => (
      <div class="mb-16">
        <a href={category.path} class="group">
          <h2 class="text-3xl font-bold text-gray-800 mb-4 group-hover:text-green-600 transition-colors">{category.title}</h2>
        </a>
        <p class="text-gray-600 mb-8">{category.description}</p>
        
        <div class="grid md:grid-cols-3 gap-6">
          {category.subcategories.map(sub => (
            <a href={sub.path} class="block group">
              <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-300 group-hover:scale-105">
                <div class="text-4xl mb-4">{sub.icon}</div>
                <h3 class="text-xl font-semibold mb-2 group-hover:text-green-600 transition-colors">{sub.title}</h3>
                <p class="text-gray-600">{sub.description}</p>
              </div>
            </a>
          ))}
        </div>
      </div>
    ))}
  </div>

  <Newsletter />
</Layout>

<script>
  const startLearningBtn = document.getElementById('startLearningBtn');
  const searchSection = document.getElementById('searchSection');

  startLearningBtn?.addEventListener('click', () => {
    searchSection?.classList.remove('hidden');
    searchSection?.scrollIntoView({ behavior: 'smooth' });
  });
</script>